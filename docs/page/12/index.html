<!DOCTYPE html>
<html lang="en-us">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  <meta property="og:title" content=" コードの波にゆ～らゆら" />
  
  <meta property="og:site_name" content="コードの波にゆ～らゆら" />
  <meta property="og:url" content="https://ymraintree.github.io/blog/" />
  
  
  <meta property="og:type" content="website" />
  

  <title>
     コードの波にゆ～らゆら
  </title>

  <link rel="stylesheet" href="https://ymraintree.github.io/blog/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://ymraintree.github.io/blog/css/main.css" />
  <link rel="stylesheet" href="https://ymraintree.github.io/blog/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://ymraintree.github.io/blog/css/github.css" />
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400" type="text/css">
  <link rel="shortcut icon" href="https://ymraintree.github.io/blog/images/favicon.ico" />
  <link rel="apple-touch-icon" href="https://ymraintree.github.io/blog/images/apple-touch-icon.png" />
  
  <link href="https://ymraintree.github.io/blog/index.xml" rel="alternate" type="application/rss+xml" title="コードの波にゆ～らゆら" />
  
</head>
<body>
    <header class="global-header"  style="background-image:url( /images/bg.jpg )">
    <section class="header-text">
      <h1><a href="https://ymraintree.github.io/blog/">コードの波にゆ～らゆら</a></h1>
      
      <div class="sns-links hidden-print">
  
  
  
  
  
  
  
  
  
  
  
  
</div>

      
      
      <a href="https://ymraintree.github.io/blog/index.xml" class="btn-header btn-subscribe hidden-xs">
        <i class="fa fa-rss" aria-hidden="true"></i>
        &nbsp;Subscribe
      </a>
      
    </section>
  </header>
  <main class="container">

<div class="article-list">
  
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110628/">java, scalaでOSコマンド実行</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-28T17:08:45&#43;09:00">
          Jun 28, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    Runtime	rt = Runtime.getRuntime(); Process p = rt.exec(&quot;cp -p foo.txt foo.txt.BACKUP&quot;); p.waitFor();  など。|や&gt;を使いたいときは、
String cmd = &quot;diff foo.txt foo.txt.BACKUP &gt; foo.txt.diff&quot;; String[] cmdArray = {&quot;/bin/sh&quot;, &quot;-c&quot;, cmd}; Runtime	rt = Runtime.getRuntime(); Process p = rt.exec(cmdArray);  というぐあいにArrayにする。
ちなみにscalaだとこんな感じ。
val cmdBody = &quot;diff foo.txt foo.txt.BACKUP &gt; foo.txt.diff&quot; val cmd = Array(&quot;su&quot;, &quot;-&quot;, &quot;nobody&quot;, &quot;-c&quot;, cmdBody) val p = Process(cmd).run if (p.exitValue != 0) { p.toString() println(&quot;異常終了 &quot; + p.toString()) }  
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110623/">scalaでスクリプトを書く</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-23T17:09:45&#43;09:00">
          Jun 23, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    perlとかで書いていたスクリプトをscalaで書こうとすると、クラスパスなどの環境変数を定義してからscalaスクリプトを起動するような起動ファイルが別にいるんだと、昔のCOBOLとJCLみたいでかっこわるいなと思っていたら、解決することができた。scalaスクリプト冒頭に
#! /bin/bash cp=&quot;/usr/local/share/commons-logging.jar&quot; export JAVA_OPTS=&quot;-server -Xms1024m -Dcluster=localhost:1100&quot; exec scala -classpath $cp $0 $@ !# println(&quot;Hello, Scala!&quot;)  とするとひとつのファイルで環境設定とscalaスクリプトの実行ができる。また、外部からの引数はargs:Array[String]に入って渡ってくるので、そのまま使えばＯＫ。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110620/">ubuntuのcron環境</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-20T17:10:48&#43;09:00">
          Jun 20, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    今までRedHatで動いていたcronのジョブをubuntuに移植したところ、sourceコマンドがない、というエラーが出るようになった。なぜかubuntuのcronはbashではなく、shで動いているもよう。crontab -eでcronの編集画面を開いて、
SHELL=/bin/bash  を加えるとbashで動くようになった。
さらに、cronから出るメールが文字化け。ヘッダをみると、
Content-type: text/plain; charset=ANSI_X3.4-1968  となっていたので、上記のようにcrontab -eで
CONTENT_TYPE=text/plain; utf-8  を追加して解決。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110609/">ubuntuのインストール</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-09T17:11:47&#43;09:00">
          Jun 9, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    ひさしぶりのlinuxインストール。マシンはSSDを搭載しているので、SSDにインストールしたところ、最後にgrubの書き込みに失敗とのメッセージ。windowsに戻してデュアルブートにしたり、super grub diskを使ってみたり、いろいろしましたが、インストール時にブートローダのインストール場所を指定するところで、/dev/sdaとしていたのがいけなかったようで。/dev/mapper/xxxxx (striped)を指定したらすっと入りました。SSDだからとかは関係なかった。そのほか気がついたこと。
64bitインストーラは日本のサイトでは見つけられなかった。ubuntu.comからダウンロード。ファイル名にamdとあるが気にしない
当然のことながらCDに焼くよりusbメモリのほうが速い。インストールも速い。
usbにインストーラを入れるときはnetbootinというツールを使用
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110608/">portからbrewへ</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-08T17:12:31&#43;09:00">
          Jun 8, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    MacBook Airでportを使っていましたが、scala29をインストールするとエラーが発生。ライブラリがないとかいってきましたが、これを機会にbrewに乗り換えました。
$ cd /usr $ sudo mkdir local $ sudo chown xxxx local $ cd local $ ruby -e &quot;$(curl -fsSL https://raw.github.com/gist/323731/39fc1416e34b9f6db201b4a026181f4ceb7cfa74)&quot;  で、brew install scala, brew install sbtなど。インストールすると、/usr/local/Cellarというディレクトリにもろもろ入るようです。
あとは、~/.bash_profileで/usr/local/binへのパスを張っときます。これで、play + scala環境がMacにできたと。やっぱり手元がunixだとなにかと便利、な気がします。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110607/">play &#43; scala</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-07T17:13:19&#43;09:00">
          Jun 7, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    playにscalaをインストールする
$ play install scala  プロジェクトを作る
$ play new sampleappscala --with scala  実行
$ play run sampleappscala  
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110422/">scala &#43; google app engineでのエラー回避</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-04-22T17:14:16&#43;09:00">
          Apr 22, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    eclipseでscalaを使ってgoogle app engineのプロジェクトを作りビルドすると
scala org.datanucleus.metadata.MetaDataManager loadClasses  的なエラーが出る。これを回避するには.projectのdatanucleusあたりをコメントアウト。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110420/">eclipseでandroid&#43;scalaプロジェクトを作る手順</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-04-20T17:15:16&#43;09:00">
          Apr 20, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    ./create_project crashball org.crashball --platform android-7 --scala-version 2.8.1  でプロジェクトを作成。
eclipseでプロジェクトを作成。こちらはscalaプロジェクト。
create_projectで作ったディレクトリからproject, src/*, testsをeclipseプロジェクトへ移動。
sbt update  eclipseでソースフォルダの設定
src/main/java src/main/scala src/test/scala  クラスパスの設定。android-sdkから適当なバージョンのandroid.jarを追加。プロジェクト内のlib_managed/scala_2.8.1/test/scalatest-1.2.jarも追加。
これでできあがり。あとはsbtでcompileなり、start-emulator, start-deviceなり。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2010/20100830/">映画『バレンタインデー』</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2010-08-30T17:16:29&#43;09:00">
          Aug 30, 2010
        </time>
      </div>
    </div>
  </header>
  <div>
    ITには関係ないけれど、休日のリフレッシュのために映画「バレンタインデー」を観ました。いろいろ詰め込み過ぎなのか、ユーモアの部分とシリアスの部分の振れ幅が小さいなど、編集がちょっと甘かったりしましたが、そこそこおもしろかったです。似たような作品では「ラブ・アクチュアリー」のほうが出来は上だったかな。中にはいいセリフもありました。「愛するということは、相手の好きなところ、いいところを愛するだけでなく、悪いところ、嫌なところも丸ごと愛するということだ」みたいなことをシャーリー・マクレーンがいっていました。いかんせん、このシーンの彼女の衣装がなんかフワフワしてて、いいセリフがずしーんとこないんですよねえ。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2010/20100729/">scalaでJavaのインナークラスを扱う</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2010-07-29T17:19:06&#43;09:00">
          Jul 29, 2010
        </time>
      </div>
    </div>
  </header>
  <div>
    scalaでJavaのインナークラスを使う場面に、apache pivotをさわっているとき出くわしました。
import org.apache.pivot.wtk.Component  して
var style:Component#StyleDictionary = label.getStyles()  とする。#を使うんですねえ。
  </div>
  
</article>

  
</div>
<nav class="pagination" role="navigation">

  <hr />


<a class="newer-posts" href="https://ymraintree.github.io/blog/page/11/"><span aria-hidden="true">&laquo;</span> Newer Posts</a>

  <span class="page-number">Page 12 of 13</span>

<a class="older-posts" href="https://ymraintree.github.io/blog/page/13/">Older Posts <span aria-hidden="true">&raquo;</span></a>

</nav>

  </main>
  <footer class="container global-footer">
    <div class="copyright-note pull-left">
      
    </div>
    <div class="sns-links hidden-print">
  
  
  
  
  
  
  
  
  
  
  
  
</div>

  </footer>

  <script src="https://ymraintree.github.io/blog/js/highlight.pack.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  
  
</body>
</html>


