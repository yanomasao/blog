<!DOCTYPE html>
<html lang="en-us">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  <meta property="og:title" content=" コードの波にゆ～らゆら" />
  
  <meta property="og:site_name" content="コードの波にゆ～らゆら" />
  <meta property="og:url" content="https://ymraintree.github.io/blog/" />
  
  
  <meta property="og:type" content="website" />
  

  <title>
     コードの波にゆ～らゆら
  </title>

  <link rel="stylesheet" href="https://ymraintree.github.io/blog/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://ymraintree.github.io/blog/css/main.css" />
  <link rel="stylesheet" href="https://ymraintree.github.io/blog/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://ymraintree.github.io/blog/css/github.css" />
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400" type="text/css">
  <link rel="shortcut icon" href="https://ymraintree.github.io/blog/images/favicon.ico" />
  <link rel="apple-touch-icon" href="https://ymraintree.github.io/blog/images/apple-touch-icon.png" />
  
  <link href="https://ymraintree.github.io/blog/index.xml" rel="alternate" type="application/rss+xml" title="コードの波にゆ～らゆら" />
  
</head>
<body>
    <header class="global-header"  style="background-image:url( /images/bg.jpg )">
    <section class="header-text">
      <h1><a href="https://ymraintree.github.io/blog/">コードの波にゆ～らゆら</a></h1>
      
      <div class="sns-links hidden-print">
  
  
  
  
  
  
  
  
  
  
  
  
</div>

      
      
      <a href="https://ymraintree.github.io/blog/index.xml" class="btn-header btn-subscribe hidden-xs">
        <i class="fa fa-rss" aria-hidden="true"></i>
        &nbsp;Subscribe
      </a>
      
    </section>
  </header>
  <main class="container">

<div class="article-list">
  
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110707/">USB3.0 HDD</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-07-07T17:00:56&#43;09:00">
          Jul 7, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    バックアップ用にUSB3.0の外付けHDDを2本購入。さっそくlinuxにつないで試してみる。4Gのファイルをコピーしてみたら、結果としてはちょっと困った感じになった。
USB3.0外付けその1　2分10秒
USB3.0外付けその2　1分20秒
内蔵HDD　20秒
内蔵SDD　11秒
外付けUSBは時間がかかりすぎではないだろうか。おなじUSB3.0でも2本のHDDで1分以上差がつくのも解せない。ためしに、別のlinuxマシンにつないで運用しているUSB2.0のHDDで同様のことをしたら、2分10秒くらいで、USB3.0外付けその1とほぼ同タイム。どういうことなんだろう。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110630/">scalaスクリプトでおかしな挙動？</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-30T17:03:13&#43;09:00">
          Jun 30, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    たとえば、
object Foo { val ZOO = &quot;xxxx&quot; } というクラスを作ってコンパイルします。これをスクリプトの中で使います。
println(Foo.ZOO) これはOK。次に、
object Foo { val ZOO = &quot;xxxx&quot; val ZOO_ADDED = &quot;ZZZZZ&quot; } と、ZOO_ADDEDを増やします。そして、これをスクリプト中で使います。すると、
script.scala:2: error: value ZOO_ADDED is not a member of object Foo println(Foo.ZOO_ADDED) ^ one error found と、エラーになってしまいます。同じことをREPLでやるとこちらはエラーになりません。すごく不思議なんですが、scalaのテンポラリディレクトリ（/tmp/scala-devel）を一度削除するとスクリプトも動くようになります。ちょっと気持ちの悪い挙動でした。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110629/">macでemacs</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-29T17:05:48&#43;09:00">
          Jun 29, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    一方macではどうかと、macのcocoa emacsに環境設定。こちらのほうは素直になにもかも動いた。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110629-2/">windowsでemacs</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-29T15:06:33&#43;09:00">
          Jun 29, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    今までは、windows用のXサーバを使って、リモートのlinuxのemacsをwindows上で開いて使っていたが、どうも最近よく落ちる。そこで、windows上で動くemacsを試してみた。emacsを使うには
 日本語入出力 trampでリモートファイル編集 sshでファイル名補完  ができるのが大前提。ざっと調べてgnupackを入れてみた。日本語は問題なし。
trampはdefault methodをpscpにして正常動作を確認。ところが、開けるファイルと開けないファイルがある。開けないときは
File exists, but cannot be read というメッセージ。開けるファイルと見比べても違いがわからず、小1時間。結局ファイルサイズに上限があるようで、tramp copy size limitをデフォルトの10240から10240000に変更。これをnilにすると上限なしになるみたいだけど、効かなかった。
sshは、リモートホストにアクセスすると、
Pseudo-terminal will not be allocated because stdin is not a terminal. というメッセージが出る。プロンプトは表示されないが、lsなどが効く。しかしこれでは気持ち悪いのでいろいろやったら、どうも2回目のアクセスは正常に動く。1回目だけを犠牲にすればいいだけだから、まあいいか。裏でtrampが走ってファイル名補完も動作。しかし、sshするときに、いまアクティブになっているバッファが影響するようで、ssh-taro@hogeのバッファがアクティブな状態でhanako@booにアクセスしようとすると、taro@booのパスワードを要求されたりする。この辺はちょっと問題。ほかには
trampの最初のアクセスで補完が効かない 設定ファイルがgnupack-xxxx/{config.ini, home/.emacs}とかにあって、別の場所に移したい
など
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110628/">java, scalaでOSコマンド実行</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-28T17:08:45&#43;09:00">
          Jun 28, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    Runtime	rt = Runtime.getRuntime(); Process p = rt.exec(&quot;cp -p foo.txt foo.txt.BACKUP&quot;); p.waitFor(); など。|や&gt;を使いたいときは、
String cmd = &quot;diff foo.txt foo.txt.BACKUP &gt; foo.txt.diff&quot;; String[] cmdArray = {&quot;/bin/sh&quot;, &quot;-c&quot;, cmd}; Runtime	rt = Runtime.getRuntime(); Process p = rt.exec(cmdArray); というぐあいにArrayにする。
ちなみにscalaだとこんな感じ。
val cmdBody = &quot;diff foo.txt foo.txt.BACKUP &gt; foo.txt.diff&quot; val cmd = Array(&quot;su&quot;, &quot;-&quot;, &quot;nobody&quot;, &quot;-c&quot;, cmdBody) val p = Process(cmd).run if (p.exitValue != 0) { p.toString() println(&quot;異常終了 &quot; + p.toString()) } 
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110623/">scalaでスクリプトを書く</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-23T17:09:45&#43;09:00">
          Jun 23, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    perlとかで書いていたスクリプトをscalaで書こうとすると、クラスパスなどの環境変数を定義してからscalaスクリプトを起動するような起動ファイルが別にいるんだと、昔のCOBOLとJCLみたいでかっこわるいなと思っていたら、解決することができた。scalaスクリプト冒頭に
#! /bin/bash cp=&quot;/usr/local/share/commons-logging.jar&quot; export JAVA_OPTS=&quot;-server -Xms1024m -Dcluster=localhost:1100&quot; exec scala -classpath $cp $0 $@ !# println(&quot;Hello, Scala!&quot;) とするとひとつのファイルで環境設定とscalaスクリプトの実行ができる。また、外部からの引数はargs:Array[String]に入って渡ってくるので、そのまま使えばＯＫ。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110620/">ubuntuのcron環境</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-20T17:10:48&#43;09:00">
          Jun 20, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    今までRedHatで動いていたcronのジョブをubuntuに移植したところ、sourceコマンドがない、というエラーが出るようになった。なぜかubuntuのcronはbashではなく、shで動いているもよう。crontab -eでcronの編集画面を開いて、
SHELL=/bin/bash を加えるとbashで動くようになった。
さらに、cronから出るメールが文字化け。ヘッダをみると、
Content-type: text/plain; charset=ANSI_X3.4-1968 となっていたので、上記のようにcrontab -eで
CONTENT_TYPE=text/plain; utf-8 を追加して解決。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110609/">ubuntuのインストール</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-09T17:11:47&#43;09:00">
          Jun 9, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    ひさしぶりのlinuxインストール。マシンはSSDを搭載しているので、SSDにインストールしたところ、最後にgrubの書き込みに失敗とのメッセージ。windowsに戻してデュアルブートにしたり、super grub diskを使ってみたり、いろいろしましたが、インストール時にブートローダのインストール場所を指定するところで、/dev/sdaとしていたのがいけなかったようで。/dev/mapper/xxxxx (striped)を指定したらすっと入りました。SSDだからとかは関係なかった。そのほか気がついたこと。
64bitインストーラは日本のサイトでは見つけられなかった。ubuntu.comからダウンロード。ファイル名にamdとあるが気にしない
当然のことながらCDに焼くよりusbメモリのほうが速い。インストールも速い。
usbにインストーラを入れるときはnetbootinというツールを使用
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110608/">portからbrewへ</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-08T17:12:31&#43;09:00">
          Jun 8, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    MacBook Airでportを使っていましたが、scala29をインストールするとエラーが発生。ライブラリがないとかいってきましたが、これを機会にbrewに乗り換えました。
$ cd /usr $ sudo mkdir local $ sudo chown xxxx local $ cd local $ ruby -e &quot;$(curl -fsSL https://raw.github.com/gist/323731/39fc1416e34b9f6db201b4a026181f4ceb7cfa74)&quot; で、brew install scala, brew install sbtなど。インストールすると、/usr/local/Cellarというディレクトリにもろもろ入るようです。
あとは、~/.bash_profileで/usr/local/binへのパスを張っときます。これで、play + scala環境がMacにできたと。やっぱり手元がunixだとなにかと便利、な気がします。
  </div>
  
</article>

  
  
  <hr/>
  
  <article>
  <header>
    <h2><a href="https://ymraintree.github.io/blog/post/2011/20110607/">play &#43; scala</a></h2>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2011-06-07T17:13:19&#43;09:00">
          Jun 7, 2011
        </time>
      </div>
    </div>
  </header>
  <div>
    playにscalaをインストールする
$ play install scala プロジェクトを作る
$ play new sampleappscala --with scala 実行
$ play run sampleappscala 
  </div>
  
</article>

  
</div>
<nav class="pagination" role="navigation">

  <hr />


<a class="newer-posts" href="https://ymraintree.github.io/blog/page/11/"><span aria-hidden="true">&laquo;</span> Newer Posts</a>

  <span class="page-number">Page 12 of 13</span>

<a class="older-posts" href="https://ymraintree.github.io/blog/page/13/">Older Posts <span aria-hidden="true">&raquo;</span></a>

</nav>

  </main>
  <footer class="container global-footer">
    <div class="copyright-note pull-left">
      
    </div>
    <div class="sns-links hidden-print">
  
  
  
  
  
  
  
  
  
  
  
  
</div>

  </footer>

  <script src="https://ymraintree.github.io/blog/js/highlight.pack.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  
  
</body>
</html>


